{% extends 'base.html' %}

{% block search_results %}
<div>
    <p><a href="{{ url_for('home_bp.search_form') }}">Go back to home page</a></p>
    <h1>{{ result_list.total }} results found for "{{ searched_term }}" : </h1>

    <div>
        <form action="{{url_for('search_page_bp.search_for_term')}}">
            <label for="magazine_filter">Filter Results by Magazine Name</label>
            <select name="magazine_filter" id="magazine_filter">
                {% for name in distinct_magazines %}
                <option value="{{name[0]}}">{{name[0]}}, results: {{name[1]}}</option>
                {% endfor %}
            </select>
            <input type="submit" value="Submit">
        </form>
    </div>

    <ul>
        {% for res in result_list%}
        <div class="results">
            <h1>{{res[0]}}</h1>
            <h1>{{res[1]}}</h1>
            <h1>{{res[2]}}</h1>
            <h1>Page {{res[3]}}</h1>
            <h1>Link: <a href="{{res[4]}}" target="_blank">{{res[4]}}</a></h1>
            {% endfor %}
        </div>

    </ul>
</div>

{% for page_num in result_list.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=1) %}
{% if page_num %}
<a href="{{ url_for('search_page_bp.search_for_term',search_box=searched_term, page=page_num)}}">{{
    page_num}}</a>
{% else %}
...
{% endif %}
{% endfor %}

{% endblock %}